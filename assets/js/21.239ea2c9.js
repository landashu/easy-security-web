(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{510:function(s,n,e){"use strict";e.r(n);var t=e(41),a=Object(t.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("数据加密我们默认使用了 AES 加密算法，AES 需要提供 KEY 和 IV，其中 KEY 是一个固定值，这个值需要前端和后端各保存一个相同的 16 位的字符串，而 IV 是每次请求都要重新生成的 16 位随机字符串。")]),s._v(" "),e("p",[s._v("在 easy-security 中，key 需要配置到 application.yml 中，项目中哪些接口需要解密后才能得到数据的也要配置。")]),s._v(" "),e("p",[s._v('前端需要把随机生成的 IV 放到请求头中，并以 "iv" 做为属性传递给后端，请求成功后后端返回的数据也是加密的，需要前端解密，此时前端要从响应头中获取后端返回的 "iv" 值，对返回的密文进行解密。')]),s._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),e("p",[s._v("2.0.3 及以上支持")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("easy:\n  security:\n    auth-enable: true\n    authorize-enable: true\n    special-url:\n      - /user/login\n      - /goods/list\n      - /goods/info\n    decrypt-url: # 需要加解密的路径\n      - /user/login\n    secret-key: 1111111111111111 # key\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("以下视频会演示，当前端把密文和 iv 传给后端，后端解密得到数据后返回的数据会被加密，然后在响应头中会有 iv，前端可以依据 key，iv 对密文进行解密。")])])}),[],!1,null,null,null);n.default=a.exports}}]);