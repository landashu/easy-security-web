(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{511:function(s,e,n){"use strict";n.r(e);var t=n(41),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("单体架构使用 easy-security 是很简单的事情，但是在微服务环境下如何使用 easy-security 呢？ 微服务开发架构，用户获取最好是从 bff 层，通过   "),n("code",[s._v("UserVO user = LocalUtil.<UserVO>getUser();")]),s._v("  获取，拿到用户信息后传递到 service DTO 中，鉴权也是在 bff 做的。")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("--| application\n    --| gateway 网关\n        --| bff web端\n            --| service1\n            --| service2\n        --| bff2 移动端\n            --| service3\n            --| service4\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("网关建议做接口限流，黑白名单等，在 bff 做的主要原因是 bff 能分应用取得对应应用的用户信息和权限。")])])}),[],!1,null,null,null);e.default=a.exports}}]);